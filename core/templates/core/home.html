{% extends 'core/base.html' %}

{% load static %}
{% block title %}Home{% endblock %}

{% block banner %}
{% include 'core/banner.html' %}
{% endblock %}

{% block property_list %}
<!-- Properties Section -->
<section class="properties">
  <h1 class="fs-1 text-capitalize text-center mb-3 bg-dark text-light p-2 text-uppercase">Properties</h1>
  <div class="container-fluid">
    <div class="row">
      <!-- Loop through properties and display in 4 columns per row -->
      {% for item in properties %}
      <div class="col-sm-6 col-md-4 col-lg-3 mt-4">
        <div class="card h-100">
          <!-- Check if property has any images -->
          <img src="{{ item.primary_image.url }}" class="card-img-top" alt="{{ item.title }}"
            style="height: 200px; object-fit: cover;">

          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ item.title }}</h5>
            <p><strong>Price: &#x20b9;{{ item.price_per_night }}</strong></p>
            <p>{{ item.city }}</p>
            <a href="{% url 'property_details' item.id %}" class="btn btn-primary mt-auto">View Property</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <!-- Show 'More' button to redirect to the full properties section -->
    <div class="text-center mt-4">
      <a href="{% url 'home_properties' %}" class="btn btn-primary">
        More
        <i class="bi bi-caret-right-fill"></i>
      </a>
    </div>
  </div>
</section>
{% endblock %}
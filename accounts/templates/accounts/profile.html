{% extends 'core/base.html' %}
{% load crispy_forms_tags %}

{% block title %}
{{ profile_user.username }}'s Profile
{% endblock %}

{% block content %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-lg-6 col-md-8">
      <div class="card mt-5 shadow-lg border-0">
        <div class="card-header text-center bg-primary text-white">
          <h3 class="mt-3 p-5"></h3>
        </div>

        <!-- Profile Picture Section -->
        <div class="card-body text-center">
          <div class="position-relative">
            <div class="profile-pic-container mx-auto">
              {% if profile_user.profile_pic and profile_user.profile_pic.url %}
              <img src="{{ profile_user.profile_pic.url }}" alt="{{ profile_user.username }}'s Profile Picture"
                class="img-fluid rounded-circle border border-4 border-white shadow"
                style="width: 150px; height: 150px;">
              {% else %}
              <img src="/media/avatar_pic.jpg" alt="Default Profile Picture"
                class="img-fluid rounded-circle border border-4 border-white shadow"
                style="width: 150px; height: 150px;">
              {% endif %}
            </div>
          </div>

          <!-- User's Name and Username -->
          <div class="mt-4">
            <h4 class="fw-bold">{{ profile_user.first_name }} {{ profile_user.last_name }}</h4>
            <p class="text-muted">@{{ profile_user.username }}</p>
          </div>

          <!-- Profile Details Section -->
          <div class="profile-details mt-4">
            <ul class="list-group list-group-flush text-start">
              <li class="list-group-item">
                <span class="fw-bold">Email: </span>{{ profile_user.email }}
              </li>
              <li class="list-group-item">
                <span class="fw-bold">Phone: </span>{{ profile_user.phone }}
              </li>
              <li class="list-group-item">
                <span class="fw-bold">City: </span>{{ profile_user.city }}
              </li>
              <li class="list-group-item">
                <span class="fw-bold">State: </span>{{ profile_user.state }}
              </li>
              <li class="list-group-item">
                <span class="fw-bold">Zip Code: </span>{{ profile_user.zip_code }}
              </li>
            </ul>
          </div>

          <!-- Action Buttons Section -->
          <div class="d-flex justify-content-center mt-4">
            <a href="{% url 'update_profile' profile_user.id %}" class="btn btn-primary me-2 w-100 ">
              Edit Profile
            </a>
            <a href="{% url 'change_password' %}" class="btn btn-warning w-100">
              Change Password
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Custom CSS -->
<style>
  .profile-pic-container {
    position: relative;
    margin-top: -75px;

  }

  .profile-details .list-group-item {
    border: 0;
    padding: 0.75rem 1.25rem;
    background: transparent;
  }

  .profile-details .list-group-item+.list-group-item {
    border-top: 1px solid #e9ecef;
  }
</style>

{% endblock %}